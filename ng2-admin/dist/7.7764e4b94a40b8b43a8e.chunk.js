webpackJsonp([7],{1504:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(0),i=n(11),s=n(21),r=n(282),o=(n.n(r),n(678)),l=(n.n(o),n(1567)),c=n(1533),d=n(281),u=n(283),p=n(1532);n.d(e,"DsProfileModule",(function(){return m}));var m=(function(){function t(){}return t})();m=__decorate([n.i(a.NgModule)({imports:[i.CommonModule,s.a,r.NgxDatatableModule,o.LaddaModule,u.a,l.a],declarations:[p.a],providers:[c.a,c.b,d.a,d.c]})],m)},1532:function(t,e,n){"use strict";var a=n(0),i=n(28),s=n(186),r=(n.n(s),n(76)),o=n(65),l=n(281),c=n(1533),d=n(191),u=n.n(d);n.d(e,"a",(function(){return p}));var p=(function(){function t(t,e,n,a,i,s,r){this.injector=t,this.globalState=e,this.translate=n,this.auth=a,this.identityApiService=i,this.microserviceConfig=s,this.toastr=r,this.personaSaveInProgress=!1,this.user=this.auth.getAuthUser(),this.identityFormData={email:this.user.username}}return t.prototype.ngOnInit=function(){var t=this;this.languageChangeSubscriber=this.translate.onLangChange.subscribe((function(e){t.init()})),this.init()},t.prototype.ngOnDestroy=function(){this.languageChangeSubscriber.unsubscribe()},t.prototype.init=function(){var t=this;setTimeout((function(){t.globalState.notifyDataChanged("menu.activeLink",{title:"general.menu.profile"})})),this.user&&this.loadPersona()},t.prototype.loadPersona=function(){var t=this;this.identityApiService.resource("individual-personas").getList({"individual.uuid":this.user.identityUuid}).subscribe((function(e){e.length>0&&(t.persona=e[0],t.persona.route+="/"+t.persona.uuid,console.log(t.persona))}))},t.prototype.savePersona=function(){var t=this;this.personaSaveInProgress=!0,this.persona.put().subscribe((function(e){u()(t.persona,e),t.toastr.success(t.translate.instant("ds.messages.personaSaveSucceeded"))}),(function(e){t.toastr.error(t.translate.instant("ds.messages.personaSaveFailed"))}),(function(){t.personaSaveInProgress=!1}))},t.prototype.saveUser=function(){},t})();p=__decorate([n.i(a.Component)({selector:"ds-profile",template:n(1593)}),__metadata("design:paramtypes",[a.Injector,r.a,i.c,o.a,c.b,l.a,s.ToastsManager])],p)},1533:function(t,e,n){"use strict";var a=n(0),i=n(137),s=(n.n(i),n(281)),r=n(32),o=n(65),l=n(188),c=n(38);n.n(c);n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return u}));var d=(function(t){function e(e){var n=t.call(this,e)||this;return n.restangular=e,n}return __extends(e,t),e})(l.a);d=__decorate([n.i(a.Injectable)(),__param(0,n.i(a.Inject)(s.d)),__metadata("design:paramtypes",[Object])],d);var u=(function(t){function e(e,a,i){var r=t.call(this)||this;r.restangular=e,r.appState=a,r.auth=i;var o=new s.a;return o.name="identities",o.settings=r.appState.get("microservices")[o.name],r.restangular=n.i(s.b)(e,i,o),r}return __extends(e,t),e})(l.a);u=__decorate([n.i(a.Injectable)(),__metadata("design:paramtypes",[i.Restangular,r.a,o.a])],u)},1567:function(t,e,n){"use strict";var a=n(27),i=n(285),s=n(1532);n.d(e,"a",(function(){return o}));var r=[{path:"",component:s.a,canActivate:[i.a],children:[]}],o=a.a.forChild(r)},1593:function(t,e){t.exports='\n<div class="">\n\t<div class="row">\n\t\t<div class="col">\n\t\t\t<form class="card entity-card animated fadeIn">\n\t\t\t\t<div class="card-header">\n\t\t\t\t\t<div class="row justify-content-between">\n\t\t\t\t\t\t<div class="col-sm-6">\n\t\t\t\t\t\t\t<h3 class="card-title" translate>{{\'ds.microservices.entity.property.identity\'}}</h3>\n\t\t\t\t\t\t\t<h4 class="card-subtitle">{{user.username}}</h4>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="col-sm-6 mt-3 mt-sm-0">\n\t\t\t\t\t\t\t<ul class="btn-list clearfix">\n\t\t\t\t\t\t\t\t<li class="float-right">\n\t\t\t\t\t\t\t\t\t<button disabled (click)="saveUser($event)" type="button" class="btn btn-primary btn-with-icon"><i class="ion-edit">{{\'ds.microservices.entity.action.save\' | translate}}</i></button>\n\t\t\t\t\t\t\t\t\t<ng-content select="button.entity-action"></ng-content>\n\t\t\t\t\t\t\t\t\t\x3c!--<button (click)="" type="button" class="btn btn-danger btn-with-icon"><i class="ion-android-delete">{{\'ds.microservices.entity.action.delete\' | translate}}</i></button>--\x3e\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="card-block entity-body entity-data">\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="username">{{ \'ds.microservices.entity.property.username\' | translate }}</label>\n\t\t\t\t\t\t<input disabled id="username" name="username" type="text" [(ngModel)]="user.username" class="form-control">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="identity">{{ \'ds.microservices.entity.property.identity\' | translate }}</label>\n\t\t\t\t\t\t<input disabled id="identity" name="identity" type="text" [(ngModel)]="user.identity" class="form-control">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="identityUuid">{{ \'ds.microservices.entity.property.identityUuid\' | translate }}</label>\n\t\t\t\t\t\t<input disabled id="identityUuid" name="identityUuid" type="text" [(ngModel)]="user.identityUuid" class="form-control">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="email">{{ \'login.email\' | translate }}</label>\n\t\t\t\t\t\t<input id="email" name="email" type="email" [(ngModel)]="identityFormData.email" class="form-control">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-group">\n\t\t\t\t\t\t<label for="plainPassword">{{ \'login.password\' | translate }}</label>\n\t\t\t\t\t\t<input id="plainPassword" name="plainPassword" type="password" [(ngModel)]="identityFormData.plainPassword" class="form-control">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\n\t\t\t<form *ngIf="persona" class="card entity-card animated fadeIn">\n\t\t\t\t<div class="card-header">\n\t\t\t\t\t<div class="row justify-content-between">\n\t\t\t\t\t\t<div class="col-sm-6">\n\t\t\t\t\t\t\t<h3 class="card-title" translate>Persona</h3>\n\t\t\t\t\t\t\t<h4 class="card-subtitle">{{persona.title | entityTranslate}}</h4>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="col-sm-6 mt-3 mt-sm-0">\n\t\t\t\t\t\t\t<ul class="btn-list clearfix">\n\t\t\t\t\t\t\t\t<li class="float-right">\n\t\t\t\t\t\t\t\t\t<button (click)="savePersona($event)" type="button" [disabled]="personaSaveInProgress" [ladda]="personaSaveInProgress" class="btn btn-primary btn-with-icon"><i class="ion-edit">{{\'ds.microservices.entity.action.save\' | translate}}</i></button>\n\t\t\t\t\t\t\t\t\t<ng-content select="button.entity-action"></ng-content>\n\t\t\t\t\t\t\t\t\t\x3c!--<button (click)="" type="button" class="btn btn-danger btn-with-icon"><i class="ion-android-delete">{{\'ds.microservices.entity.action.delete\' | translate}}</i></button>--\x3e\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="card-block entity-body entity-data">\n\t\t\t\t\t<div class="row">\n\t\t\t\t\t\t<div class="col">\n\t\t\t\t\t\t\t<div class="form-group" *ngFor="let item of persona.data | keyValue" [ngSwitch]="item.key">\n\t\t\t\t\t\t\t\t<label [for]="item.key">{{ (\'ds.microservices.entity.property.\' + item.key) | translate }}</label>\n\t\t\t\t\t\t\t\t<input *ngSwitchDefault [id]="item.key" [name]="item.key" type="text" [(ngModel)]="persona.data[item.key]" class="form-control" placeholder="">\n\t\t\t\t\t\t\t\t<textarea *ngSwitchCase="\'address\'" [id]="item.key" [name]="item.key" [(ngModel)]="persona.data[item.key]" class="form-control" placeholder=""></textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</div>\n\t</div>\n</div>'}});