webpackJsonp([0],{1619:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(11),a=n(19),s=n(297),o=(n.n(s),n(771)),c=n(1683),l=n(1624),d=n(296),u=n(1632),p=n(298),h=n(1660),f=n(1656),y=n(1657),m=n(1654),v=n(1655),b=n(1649),g=n(1652),x=n(1653),T=n(1650),_=n(1651),P=n(1658),w=n(1659);n.d(e,"MICROSERVICE_NAME",(function(){return E})),n.d(e,"DsServiceModule",(function(){return S}));var E="services",S=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getMicroserviceName=function(){return E},e})(u.a);S=__decorate([n.i(i.NgModule)({imports:[r.CommonModule,a.a,o.b,s.NgxDatatableModule,p.a,c.a],declarations:[h.a,f.a,y.a,m.a,v.a,b.a,g.a,x.a,T.a,_.a,P.a,w.a],providers:[l.a,d.a,d.c]})],S)},1624:function(t,e,n){"use strict";var i=n(0),r=n(296),a=n(191),s=n(35);n.n(s);n.d(e,"a",(function(){return o}));var o=(function(t){function e(e){var n=t.call(this,e)||this;return n.restangular=e,console.log("Calling base EntityApiService from Service Api Service"),n}return __extends(e,t),e})(a.a);o=__decorate([n.i(i.Injectable)(),__param(0,n.i(i.Inject)(r.d)),__metadata("design:paramtypes",[Object])],o)},1625:function(t,e,n){"use strict";var i=n(27),r=n(11),a=n(23),s=n(138),o=(n.n(s),n(77)),c=n(30),l=n(1627),d=n(139),u=n(35),p=(n.n(u),n(24)),h=n.n(p);n.d(e,"a",(function(){return f}));var f=(function(t){function e(e){var n=t.call(this,e)||this;return n.injector=e,n.router=e.get(i.c),n.route=e.get(i.b),n.globalState=n.injector.get(o.a),n.appState=n.injector.get(c.a),n.location=e.get(r.Location),n.translate=e.get(a.c),n.toastr=e.get(s.ToastsManager),n.config=n.appState.get("config"),n}return __extends(e,t),e.prototype.ngOnInit=function(){t.prototype.ngOnInit.call(this),this.isInitialized=!0},e.prototype.generateBackLink=function(){return this.entityParent&&(this.backLink||(this.backLink=new d.a),this.backLink.routerLink=["/","pages",this.entityParentUrlPrefix,this.entityParent.uuid,"show"],this.entityParent.hasOwnProperty("title")&&(this.backLink.text=this.entityParent.title[this.translate.currentLang])),this.backLink},e.prototype.getEmptyBackLink=function(){return new d.a},e.prototype.getTranslatedPropertyValue=function(t,e){if(h()(t))return h()(t[e])&&t[e][this.translate.currentLang]?t[e][this.translate.currentLang]:t[e]},e})(l.a)},1626:function(t,e,n){"use strict";var i=n(27),r=n(36),a=n(140),s=n(138),o=(n.n(s),n(23)),c=n(773),l=n(1625),d=n(35),u=(n.n(d),n(1));n.n(u);n.d(e,"a",(function(){return p}));var p=(function(t){function e(e,n){var r=t.call(this,e)||this;return r.microserviceConfig=n,r.actions=[{name:"edit",title:"ds.microservices.entity.action.edit",class:"btn btn-primary btn-with-icon",iconClass:"ion-edit",visible:!0,routerLink:["../edit"],region:"header"},{name:"delete",title:"ds.microservices.entity.action.delete",class:"btn btn-danger btn-with-icon",iconClass:"ion-android-delete",visible:!0,region:"footer"}],r.entityMetadata={},r.subscriptions={},r.router=r.injector.get(i.c),r.route=r.injector.get(i.b),r.translate=r.injector.get(o.c),r.modal=r.injector.get(a.c),r.toastr=r.injector.get(s.ToastsManager),r}return __extends(e,t),e.prototype.ngOnInit=function(){var e=this;t.prototype.ngOnInit.call(this),this.entityMetadata=this.microserviceConfig.settings.entities[this.entityUrlPrefix].properties,this.lang=this.translate.currentLang,this.subscriptions.lang=this.translate.onLangChange.subscribe((function(t){e.lang=t.lang,e.updateTranslations(t.lang),e.subscriptions.entity=e.prepareEntity().subscribe((function(t){return e.prepareEntitySubscriptionHandler(t)}))})),this.subscriptions.entity=this.prepareEntity().subscribe((function(t){return e.prepareEntitySubscriptionHandler(t)}))},e.prototype.ngOnDestroy=function(){var t=this;Object.keys(this.subscriptions).forEach((function(e){return t.subscriptions[e].unsubscribe()})),this.subscriptions=void 0},e.prototype.prepareEntity=function(){var t=this;return this.route.params.flatMap((function(e){if(t.entity)return u.Observable.of({entity:t.entity,entityParent:t.entityParent});var n=e.id,i=e[t.entityParentUrlParam];return t.entityApiService.getOne(t.entityUrlPrefix,n).flatMap((function(e){return t.entity=e,t.prepareEntityParent(t.entityParentUrlPrefix,i).flatMap((function(t){return u.Observable.of({entity:e,entityParent:t})}))})).catch((function(e){throw e instanceof r.Response?t.onPrepareEntityError(e):console.warn("Unexpected error occurred while fetching entity: "+e),e}))}))},e.prototype.prepareEntityParent=function(t,e){var n=this;return t&&e?this.entityApiService.getOne(t,e).flatMap((function(t){return n.entityParent=t,n.generateBackLink(),u.Observable.of(t)})):u.Observable.of({})},e.prototype.onPrepareEntityError=function(t){var e=this.translate.instant("ds.messages.http."+t.status);this.toastr.error(e)},e.prototype.handleEntityEvent=function(t){switch(t.action.name){case"delete":this.onDelete();break;default:t.action.routerLink&&this.router.navigate(t.action.routerLink,{relativeTo:this.route})}},e.prototype.onDelete=function(){var t=this,e=this.modal.open(c.a,{size:"lg"});e.componentInstance.modalHeader="Confirm",e.componentInstance.modalContent="Are you sure you want to delete this entity?",e.componentInstance.actions=[{command:"yes",label:"Yes"},{command:"no",label:"No"}],e.result.then((function(e){console.log(e),"yes"===e.command&&t.entity.remove().subscribe((function(e){t.onEntityDeleteSuccess(e)}),(function(e){t.onEntityDeleteError(e)}))}),(function(t){}))},e.prototype.updateTranslations=function(t){this.onEntityPrepared(),this.entityParent&&this.generateBackLink()},e.prototype.onEntityDeleteSuccess=function(t){console.log("Entity deleted successfully, server response: ",t),this.toastr.success("Entity deleted successfully"),this.router.navigate(["../../list"],{relativeTo:this.route})},e.prototype.onEntityDeleteError=function(t){console.error("Failed to delete entity",t),this.toastr.error("Failed to delete entity")},e.prototype.prepareEntitySubscriptionHandler=function(t){this.onEntityPrepared(t),this.setBreadcrumbData(),this.commitBreadcrumb()},e.prototype.onEntityPrepared=function(t){""!==this.pageTitle&&t.entity&&t.entity.title&&(t.entity.title.hasOwnProperty(this.translate.currentLang)?this.pageTitle=t.entity.title[this.translate.currentLang]:this.pageTitle=t.entity.title)},e.prototype.setBreadcrumbData=function(){this.entity&&(this.pageBreadcrumbData.title=this.entity.title,this.pageBreadcrumbData.tags=["crud-show"])},e.prototype.setActionVisibility=function(t,e){this.actions=this.actions.map((function(n){switch(n.name){case t:n.visible=e}return n}))},e})(l.a)},1627:function(t,e,n){"use strict";var i=n(0),r=n(27),a=n(11),s=n(299),o=n(301),c=n(77);n.d(e,"a",(function(){return l}));var l=(function(){function t(t){this.injector=t,this.pageBreadcrumbData={},this.route=this.injector.get(r.b),this.location=this.injector.get(a.Location),this.staticTranslate=this.injector.get(s.a),this.globalState=this.injector.get(c.a),this.breadcrumbService=this.injector.get(o.a)}return t.prototype.ngOnInit=function(){this.pageTitle&&this.applyPageTitle(),this.setBreadcrumbData()},t.prototype.applyPageTitle=function(t){var e=this,n=t||this.pageTitle;n&&setTimeout((function(){e.globalState.notifyDataChanged("menu.activeLink",{title:n})}))},t.prototype.setBreadcrumbData=function(){this.pageTitle&&(this.pageBreadcrumbData.title=this.pageTitle)},t.prototype.buildBreadcrumb=function(){var t=this.location.path().split("/").slice(2,3).map((function(t){return"path-"+t}));return{title:"string"==typeof this.pageBreadcrumbData.title?this.staticTranslate.instantAll(this.pageBreadcrumbData.title):this.pageBreadcrumbData.title,subtitle:"string"==typeof this.pageBreadcrumbData.subtitle?this.staticTranslate.instantAll(this.pageBreadcrumbData.subtitle):this.pageBreadcrumbData.subtitle,link:this.location.path(),tags:[].concat(t,this.pageBreadcrumbData.tags),routeData:this.route.snapshot.data}},t.prototype.commitBreadcrumb=function(t,e){t||(t=this.buildBreadcrumb()),this.breadcrumbService.push(t,e)},t})();l=__decorate([n.i(i.Component)({}),__metadata("design:paramtypes",[i.Injector])],l)},1628:function(t,e,n){"use strict";var i=n(299),r=n(50),a=n(1625),s=n(35),o=(n.n(s),n(1)),c=(n.n(o),n(775)),l=n.n(c),d=n(776),u=n.n(d),p=n(90),h=n.n(p),f=n(304),y=n.n(f);n.d(e,"a",(function(){return m}));var m=(function(t){function e(e,n){var a=t.call(this,e)||this;return a.injector=e,a.microserviceConfig=n,a.headerTitle="",a.headerSubtitle="",a.submitted=!1,a.formErrors={},a.entityMetadata={},a.active=!0,a.auth=e.get(r.a),a.staticTranslate=e.get(i.a),a}return __extends(e,t),e.prototype.ngOnInit=function(){var e=this;t.prototype.ngOnInit.call(this),this.loadEntityMetaData(),this.lang=this.translate.currentLang,this.languageChangeSubscriber=this.translate.onLangChange.subscribe((function(t){e.lang=e.translate.currentLang,e.updateTranslations(t.lang),e.prepareEntityParent()})),this.translate.getTranslation(this.translate.currentLang).subscribe((function(){e.formLang=e.translate.currentLang})),Object.keys(this.entityMetadata).forEach((function(t){e.formErrors[t]=""})),this.prepareEntity().subscribe()},e.prototype.ngOnDestroy=function(){this.languageChangeSubscriber&&this.languageChangeSubscriber.unsubscribe()},e.prototype.loadEntityMetaData=function(){this.entityMetadata=this.microserviceConfig.settings.entities[this.entityUrlPrefix].properties},e.prototype.onRouteParams=function(t){this.routeParams=t},e.prototype.prepareEntity=function(){var t=this;return this.route.params.flatMap((function(e){var n=e.id,i=e[t.entityParentUrlParam];return t.onRouteParams(e),t.isNew?t.createBlankEntity().flatMap((function(e){return t.entity=e,t.onEntityPrepared(),t.prepareEntityParent(t.entityParentUrlPrefix,i).flatMap((function(t){return o.Observable.of({entity:e,entityParent:t})}))})):t.entityApiService.getOne(t.entityUrlPrefix,n).flatMap((function(e){return t.entity=e,t.onEntityPrepared(),t.prepareEntityParent(t.entityParentUrlPrefix,i).flatMap((function(t){return o.Observable.of({entity:e,entityParent:t})}))}))}))},e.prototype.prepareEntityParent=function(t,e){var n=this;return this.entityParent?(this.generateBackLink(),o.Observable.of(this.entityParent)):t&&e?this.entityApiService.getOne(t,e).flatMap((function(t){return n.entityParent=t,n.generateBackLink(),o.Observable.of(t)})):o.Observable.of(null)},e.prototype.createBlankEntity=function(){var t=this,e=(this.auth.getAuthUser(),{owner:"BusinessUnit",ownerUuid:"8454c987-cbc5-4a24-ba1a-d420283caabd",weight:0,version:1});return Object.keys(this.entityMetadata).forEach((function(n,i){var r=t.entityMetadata[n],a=r.hasOwnProperty("default")?r.default:"";r.hasOwnProperty("translated")&&!0===r.translated?(e[n]={},t.translate.langs.forEach((function(t){e[n][t]=a}))):e[n]=a})),o.Observable.of(e)},e.prototype.onEntityPrepared=function(){""!==this.pageTitle&&!this.isNew&&this.entity&&this.entity.title&&(this.entity.title.hasOwnProperty(this.translate.currentLang)&&this.entity.title[this.translate.currentLang].length>0?this.pageTitle=this.entity.title[this.translate.currentLang]:this.pageTitle=this.entity.title)},e.prototype.updateTranslations=function(t){this.onEntityPrepared()},e.prototype.displayFormErrors=function(t){if(void 0===t&&(t=!0),this.entityForm){var e=this.entityForm.form;for(var n in this.formErrors){this.formErrors[n]="";var i=e.get(n);if(i&&(i.dirty||t)&&!i.valid)for(var r in i.errors)this.setFormError(n,r)}}},e.prototype.onFormInit=function(t){this.currentForm=t},e.prototype.onFormChange=function(t){var e=this;this.currentForm!==this.entityForm&&(this.entityForm=this.currentForm,this.entityForm&&this.entityForm.valueChanges.subscribe((function(t){return e.onValueChanged(t)})))},e.prototype.onFormCancel=function(){this.location.back()},e.prototype.onFormLanguageChange=function(t){this.formLang=t.key},e.prototype.onFormSubmit=function(t){if(!t.valid)return this.displayFormErrors(),this.toastr.error(this.translate.instant("ds.messages.formInvalid")),!1;this.submitted=!0,this.isNew?this.saveNewEntity(t):this.saveExistingEntity(t)},e.prototype.onValueChanged=function(t){this.displayFormErrors(!1)},e.prototype.saveNewEntity=function(t){var e=this;try{var n=this.preSave(l()(this.entity));this.entityApiService.resource(this.entityUrlPrefix).post(n).subscribe((function(t){e.onEntitySave(t)}),(function(t){e.onEntitySaveError(t)}))}catch(t){console.warn("Error in saveNewEntity",t)}},e.prototype.saveExistingEntity=function(t){var e=this;try{var n=l()(this.entity.plain()),i=this.preSave(n),r=this.entityApiService.resource(this.entityUrlPrefix),a={"Content-Type":"application/json"};r.customPUT(i,this.entity.uuid,void 0,a).subscribe((function(t){e.onEntitySave(t)}),(function(t){e.onEntitySaveError(t)}))}catch(t){console.warn("Error in saveExistingEntity",t)}},e.prototype.preSave=function(t){var e=this,n=this.getPropertiesToRemoveOnSave();return t=u()(t,n),Object.keys(this.entityMetadata).forEach((function(i,r){var a=e.entityMetadata[i];n.indexOf(i)>-1||(a.hasOwnProperty("translated")&&!0===a.translated?e.translate.langs.forEach((function(n){if(t[i]&&y()(t[i][n])&&h()(t[i][n])&&delete t[i][n],a.hasOwnProperty("type")&&"json"===a.type)try{y()(t[i][n])&&(0===t[i][n].trim().length&&(t[i][n]="{}"),t[i][n]=JSON.parse(t[i][n]))}catch(t){throw e.setFormError(i,"json"),{type:"validation",property:i,field:a.type,language:n}}})):y()(t[i])&&a.hasOwnProperty("type")&&"json"===a.type&&(t[i]=JSON.parse(t[i])))})),console.log("sanitized entity",t),t},e.prototype.getPropertiesToRemoveOnSave=function(){return["@context","@id","@type","id","uuid","createdAt","updatedAt","deletedAt"]},e.prototype.setFormError=function(t,e){var n=this.entityMetadata[t].validation,i=n[e].hasOwnProperty("params")?n[e].params:null,r="ds.microservices.entity.validation."+n[e].message,a=this.staticTranslate.instant(this.formLang,r,i);this.formErrors[t]+=a+" "},e.prototype.getRoutingUrlOnSave=function(t){return[this.isNew?"../"+t.uuid:"../","show"]},e.prototype.onEntitySave=function(t){if(console.log("Entity saved successfully, server response: ",t),this.toastr.success(this.translate.instant("ds.messages.entitySaveSucceeded")),t.uuid){var e=this.getRoutingUrlOnSave(t);this.router.navigate(e,{relativeTo:this.route})}else this.toastr.error(this.translate.instant("ds.messages.unexpectedError"))},e.prototype.onEntitySaveError=function(t){console.error("There was an error saving entity",t);var e=this.translate.instant("ds.messages.entitySaveFailed"),n="";t.data&&t.data["hydra:description"]&&(n=t.data["hydra:description"]),this.toastr.error(n,e)},e})(a.a)},1629:function(t,e,n){"use strict";(function(t){var i=n(0),r=n(770),a=n(1631),s=n(1625),o=n(35),c=(n.n(o),n(35)),l=(n.n(c),n(107));n.n(l);n.d(e,"a",(function(){return d}));var d=(function(e){function i(t,n){var i=e.call(this,t)||this;return i.microserviceConfig=n,i.rows=[],i.columns=[],i.sorts=[],i.pager=new r.a,i.pagingMode=r.b.APPEND,i.size=10,i.scrollDebounceTime=1e3,i.timeSinceLastScroll=0,i.datatableAttributes={columnMode:"force",rowHeight:"auto",headerHeight:90,footerHeight:50,externalPaging:!0,externalSorting:!0},i.headerActions=[{name:"create",title:"ds.microservices.entity.action.create",class:"btn btn-primary btn-with-icon",iconClass:"ion-android-add-circle",visible:!0,routerLink:["../create"]},{name:"refresh",title:"ds.microservices.entity.action.refresh",class:"btn btn-secondary btn-with-icon",iconClass:"ion-android-refresh",visible:!1}],i.actions=[{name:"show",title:"ds.microservices.entity.action.show",class:"btn btn-default btn-with-icon",iconClass:"ion-eye",visible:!0},{name:"edit",title:"ds.microservices.entity.action.edit",class:"btn btn-default btn-with-icon",iconClass:"ion-edit",visible:!0}],i.filters={},i.filterStream=new c.Subject,i.entityMetadata={},i}return __extends(i,e),i.prototype.ngOnInit=function(){var t=this;e.prototype.ngOnInit.call(this),this.lang=this.translate.currentLang,this.languageChangeSubscriber=this.translate.onLangChange.subscribe((function(e){t.lang=e.lang,t.updateTranslations(e.lang)})),this.entityMetadata=this.microserviceConfig.settings.entities[this.entityUrlPrefix].properties,this.pager.size=this.size,this.setupUi(),this.setupList(),this.postSetupList(),this.setupQuery(),this.filterStream.distinctUntilChanged((function(t,e){return t.filterProperty===e.filterProperty&&t.filterValue===e.filterValue})).map((function(e){return t.assignFilterValue(e)})).debounceTime(500).subscribe((function(){return t.doFilter()})),this.setPage({offset:1}),this.pageBreadcrumbData.title=this.pageTitle,this.pageBreadcrumbData.tags=["crud-list"]},i.prototype.ngOnDestroy=function(){this.languageChangeSubscriber.unsubscribe()},i.prototype.ngAfterViewInit=function(){this.commitBreadcrumb()},i.prototype.setupQuery=function(){this.query=a.a.forUrl(this.microserviceConfig.settings.entrypoint.url,this.entityUrlPrefix).withPager(this.pager)},i.prototype.setupUi=function(){},i.prototype.setupList=function(){},i.prototype.postSetupList=function(){this.updateTranslations(this.translate.currentLang)},i.prototype.refreshList=function(){var t=this;this.loading=!0,this.entityApiService.getList(this.query).subscribe((function(e){switch(t.pager=e.pager,t.pagingMode){case r.b.REPLACE:t.rows=t.preprocessRowsData(e.data);break;case r.b.APPEND:t.rows=t.rows.concat(t.preprocessRowsData(e.data))}t.loading=!1}))},i.prototype.handleHeaderEvent=function(t){var e=this.entityParentUrlPrefix?"../"+this.entityUrlPrefix:"../";switch(t.action.name){case"refresh":this.refreshList();break;case"create":this.router.navigate([e,"create"],{relativeTo:this.route});break;default:t.action.routerLink&&this.router.navigate(t.action.routerLink,{relativeTo:this.route})}},i.prototype.preprocessRowsData=function(t){var e,n=this;return t&&(e=t.map((function(t){return t._={actions:n.actions},t})).filter((function(t){return t.hasOwnProperty("title")&&t.title.hasOwnProperty(n.translate.currentLang)}))),e},i.prototype.onFilterValueChange=function(t){var e=t.column.prop,n=t.event.target.value;this.filterStream.next({filterProperty:e,filterValue:n})},i.prototype.assignFilterValue=function(t){return console.log("assignFilterValue: ",t),this.filters[t.filterProperty]=t.filterValue,t},i.prototype.doFilter=function(){var t=this;Object.keys(this.filters).forEach((function(e){var i=t.filters[e];null==i||n.i(l.isString)(i)&&0===i.length?(delete t.filters[e],t.query.unsetFilter(e)):(t.filters[e]=i,t.query.setFilter(e,t.filters[e]))})),console.log(this.filters),this.refreshList()},i.prototype.setPage=function(t){this.pager.pageNumber=t.offset,this.refreshList()},i.prototype.removeItem=function(t){n.i(l.remove)(this.rows,t)},i.prototype.fetchNextPage=function(){this.pager.pageNumber<this.pager.totalPages&&this.setPage({offset:this.pager.pageNumber+1})},i.prototype.onSort=function(t){console.log("base-list.component::onSort",t),t.column.prop&&(this.query.unsetOrder(),this.query.setOrder(t.column.prop,t.newValue),this.refreshList())},i.prototype.onScrollDown=function(e){var n=(new Date).getTime();if(!this.loading&&n>this.timeSinceLastScroll+this.scrollDebounceTime){var i=t(document).height();(i-(t(window).height()+t(window).scrollTop()))/i==0&&(this.timeSinceLastScroll=n,this.fetchNextPage())}},i.prototype.updateTranslations=function(t){},i})(s.a);__decorate([n.i(i.ViewChild)("headerTpl"),__metadata("design:type",i.TemplateRef)],d.prototype,"headerTpl",void 0),__decorate([n.i(i.ViewChild)("textCellTpl"),__metadata("design:type",i.TemplateRef)],d.prototype,"textCellTpl",void 0),__decorate([n.i(i.ViewChild)("actionsTpl"),__metadata("design:type",i.TemplateRef)],d.prototype,"actionsCellTpl",void 0)}).call(e,n(9))},1630:function(t,e,n){"use strict";var i=n(0);n.d(e,"a",(function(){return r}));var r=(function(){function t(){}return t})();r=__decorate([n.i(i.Component)({selector:"ds-entity",template:"<router-outlet></router-outlet>"}),__metadata("design:paramtypes",[])],r)},1631:function(t,e,n){"use strict";var i=n(770);n.d(e,"a",(function(){return r}));var r=(function(){function t(t){this.pager=new i.a,this.filters={},this.orders={},this.enableParamItemsPerPage=!0,this.path=t}return t.forUrl=function(e,n){var i=new t(n);return i.urlPrefix=e,i},t.prototype.withPath=function(t){return this.path=t,this},t.prototype.withFilter=function(t,e){return this.setFilter(t,e)},t.prototype.setFilter=function(t,e){return this.filters[t]=e,this},t.prototype.unsetFilter=function(t){delete this.filters[t]},t.prototype.withOrder=function(t,e){return this.setOrder(t,e)},t.prototype.setOrder=function(t,e){return this.orders[t]=e,this},t.prototype.unsetOrder=function(t){if(t)delete this.orders[t];else for(var e in this.orders)delete this.orders[e]},t.prototype.withPager=function(t){return this.pager=t,this},t.prototype.getFullPath=function(){return this.urlPrefix+this.path},t.prototype.buildParameters=function(){var t={};if(this.pager&&(Object.assign(t,{page:this.pager.pageNumber}),this.enableParamItemsPerPage&&(t.limit=this.pager.size)),this.filters&&Object.assign(t,this.filters),this.orders)for(var e in this.orders)t["order["+e+"]"]=this.orders[e];return t},t})()},1632:function(t,e,n){"use strict";var i=n(0),r=n(11),a=n(19),s=n(30),o=n(300),c=n(297),l=(n.n(c),n(771)),d=n(296);n.d(e,"a",(function(){return u}));var u=(function(){function t(t,e){this.appState=t,this.msConfig=e,this.microserviceName=null,e.name=this.getMicroserviceName(),e.settings=this.appState.get("microservices")[e.name]}return t})();u=__decorate([n.i(i.NgModule)({imports:[r.CommonModule,a.a,o.a,l.b,c.NgxDatatableModule],declarations:[],providers:[d.a,d.c]}),__metadata("design:paramtypes",[s.a,d.a])],u)},1649:function(t,e,n){"use strict";var i=n(0),r=n(27),a=n(11),s=n(36),o=n(140),c=n(138),l=(n.n(c),n(296)),d=n(91),u=n(1624),p=n(1626),h=n(35),f=(n.n(h),n(1)),y=(n.n(f),n(141)),m=(n.n(y),n(90)),v=n.n(m);n.d(e,"a",(function(){return b}));var b=(function(t){function e(e,n,r,a,s,o,c,l,d){var u=t.call(this,e,s)||this;return u.injector=e,u.route=n,u.http=r,u.location=a,u.microserviceConfig=s,u.entityApiService=o,u.cms=c,u.modal=l,u.toastr=d,u.entityUrlPrefix="scenarios",u.entityParentUrlPrefix="services",u.entityParentUrlParam="serviceUuid",u.headerTitle="general.menu.scenarios",u.headerSubtitle=null,u.isActivated=!1,u.isFormRendered=!1,u.backLink=u.getEmptyBackLink(),u.formioLanguageEmitter=new i.EventEmitter,u}return __extends(e,t),e.prototype.prepareEntity=function(){var e=this;return t.prototype.prepareEntity.call(this).flatMap((function(t){return e.activate(),f.Observable.empty()}))},e.prototype.activate=function(){var t=this;if(!this.isActivated){this.isActivated=!0;var e=this.entity.uuid;this.entityApiService.one("scenarios",e).customGET("form").subscribe((function(e){t.formioOptions={i18n:{}},t.cms.getFormioFormTranslations(e.id).subscribe((function(e){v()(e)||(t.formioOptions.i18n=e)}),(function(t){console.warn("Error while fetching form translations",t)}),(function(){t.formioFormSchema={components:e.schema}}))}),(function(e){t.handleActivationRequestError(e)}))}},e.prototype.switchFormLanguage=function(t){this.formioLanguageEmitter.emit(t)},e.prototype.onFormioFormRender=function(t){this.isFormRendered=!0,this.switchFormLanguage(this.translate.currentLang)},e.prototype.onFormioFormSubmit=function(t){var e=this,n={data:t.data};this.entityApiService.one("scenarios",this.entity.uuid).all("submissions").post(n).subscribe((function(t){e.status="success",e.statusMessage="ds.microservices.entity.scenario.submissionSuccess"}),(function(t){e.handleSubmissionRequestError(t)}))},e.prototype.onFormioFormInvalid=function(t){console.log("onFormioFormInvalid: ",t)},e.prototype.onFormioFormError=function(t){console.log("onFormioFormError: ",t)},e.prototype.handleActivationRequestError=function(t){this.status="failure";try{var e=n.i(y.isFunction)(t.json)?t.json():null;e&&e.message&&(this.toastr.error(e.message),this.statusMessage=e.message)}catch(t){this.statusMessage="ds.microservices.entity.scenario.activationFailure"}},e.prototype.handleSubmissionRequestError=function(t){this.status="failure";try{var e=n.i(y.isFunction)(t.json)?t.json():null;e&&e.message&&(this.toastr.error(e.message),this.statusMessage=e.message)}catch(t){this.statusMessage="ds.microservices.entity.scenario.submissionFailure"}},e})(p.a);__decorate([n.i(i.ViewChild)("modalSubmissionResult"),__metadata("design:type",i.TemplateRef)],b.prototype,"modalSubmissionResultTpl",void 0),b=__decorate([n.i(i.Component)({selector:"ds-scenario-activate",template:n(1707),styles:[n(1699)],host:{class:"ds-scenario-activate"},encapsulation:i.ViewEncapsulation.None}),__metadata("design:paramtypes",[i.Injector,r.b,s.Http,a.Location,l.a,u.a,d.a,o.c,c.ToastsManager])],b)},1650:function(t,e,n){"use strict";var i=n(0),r=n(27),a=n(11),s=n(138),o=(n.n(s),n(23)),c=n(296),l=n(1624),d=n(1628),u=n(35),p=(n.n(u),n(1));n.n(p);n.d(e,"a",(function(){return h}));var h=(function(t){function e(e,n,i,r,a,s,o,c){var l=t.call(this,e,o)||this;return l.entityUrlPrefix="scenarios",l.entityParentUrlPrefix="services",l.entityParentUrlParam="serviceUuid",l.headerTitle="Add Scenario",l.isNew=!0,l.translate=a,l.entityApiService=c,l.backLink=l.getEmptyBackLink(),l}return __extends(e,t),e.prototype.ngOnInit=function(){var e=this;this.routeParamsSubscription=this.route.params.subscribe((function(n){e.entityApiService.getOne(e.entityParentUrlPrefix,n[e.entityParentUrlParam]).subscribe((function(n){e.entityParent=n,t.prototype.ngOnInit.call(e)}))}))},e.prototype.createBlankEntity=function(){var e=this;return t.prototype.createBlankEntity.call(this).flatMap((function(t){return t.service="/"+e.entityParentUrlPrefix+"/"+e.entityParent.uuid,p.Observable.of(t)}))},e.prototype.saveNewEntity=function(){return t.prototype.saveNewEntity.call(this)},e})(d.a);h=__decorate([n.i(i.Component)({selector:"ds-scenario-create",template:n(1675)}),__metadata("design:paramtypes",[i.Injector,r.b,r.c,a.Location,o.c,s.ToastsManager,c.a,l.a])],h)},1651:function(t,e,n){"use strict";var i=n(0),r=n(27),a=n(11),s=n(138),o=(n.n(s),n(23)),c=n(296),l=n(1624),d=n(1628),u=n(35);n.n(u);n.d(e,"a",(function(){return p}));var p=(function(t){function e(e,n,i,r,a,s,o,c){var l=t.call(this,e,o)||this;return l.entityUrlPrefix="scenarios",l.entityParentUrlPrefix="services",l.entityParentUrlParam="serviceUuid",l.headerTitle="Edit Scenario",l.headerSubtitle=null,l.isNew=!1,l.translate=a,l.entityApiService=c,l.backLink=l.getEmptyBackLink(),l}return __extends(e,t),e})(d.a);p=__decorate([n.i(i.Component)({selector:"ds-scenario-edit",template:n(1675)}),__metadata("design:paramtypes",[i.Injector,r.b,r.c,a.Location,o.c,s.ToastsManager,c.a,l.a])],p)},1652:function(t,e,n){"use strict";var i=n(0),r=n(296),a=n(1624),s=n(1629),o=n(35);n.n(o);n.d(e,"a",(function(){return c}));var c=(function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.injector=e,r.microserviceConfig=n,r.entityApiService=i,r.entityUrlPrefix="scenarios",r.entityParentUrlPrefix="services",r.entityParentUrlParam="serviceUuid",r.headerTitle="general.menu.scenarios",r.headerSubtitle="",r.entityApiService=i,r}return __extends(e,t),e.prototype.ngOnInit=function(){var e=this;this.routeParamsSubscription=this.route.params.subscribe((function(n){e.entityApiService.getOne(e.entityParentUrlPrefix,n[e.entityParentUrlParam]).subscribe((function(n){e.entityParent=n,t.prototype.ngOnInit.call(e)}))}))},e.prototype.ngOnDestroy=function(){this.routeParamsSubscription.unsubscribe(),t.prototype.ngOnDestroy.call(this)},e.prototype.setupList=function(){t.prototype.setupList.call(this),this.columns=[{prop:"title",cellTemplate:this.textCellTpl,headerTemplate:this.headerTpl,filterable:!0},{prop:"presentation",cellTemplate:this.textCellTpl,headerTemplate:this.headerTpl,filterable:!0}]},e.prototype.setupQuery=function(){t.prototype.setupQuery.call(this),this.query.setFilter("service.uuid",this.entityParent.uuid)},e.prototype.updateTranslations=function(e){t.prototype.updateTranslations.call(this,e),this.entityParent.hasOwnProperty("title")&&this.entityParent.title.hasOwnProperty(e)&&(this.headerSubtitle=this.entityParent.title[e])},e})(s.a);c=__decorate([n.i(i.Component)({selector:"ds-scenario-list",template:n(1677)}),__metadata("design:paramtypes",[i.Injector,r.a,a.a])],c)},1653:function(t,e,n){"use strict";var i=n(0),r=n(1626),a=n(296),s=n(1624),o=n(35);n.n(o);n.d(e,"a",(function(){return c}));var c=(function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.injector=e,r.microserviceConfig=n,r.entityApiService=i,r.entityUrlPrefix="scenarios",r.entityParentUrlPrefix="services",r.entityParentUrlParam="serviceUuid",r.headerTitle="Scenario Details",r.headerSubtitle=null,r.entityApiService=i,r.backLink=r.getEmptyBackLink(),r}return __extends(e,t),e})(r.a);c=__decorate([n.i(i.Component)({selector:"ds-scenario-show",template:n(1708)}),__metadata("design:paramtypes",[i.Injector,a.a,s.a])],c)},1654:function(t,e,n){"use strict";var i=n(0),r=n(27),a=n(11),s=n(138),o=(n.n(s),n(23)),c=n(296),l=n(1624),d=n(1628),u=n(35);n.n(u);n.d(e,"a",(function(){return p}));var p=(function(t){function e(e,n,i,r,a,s,o,c){var l=t.call(this,e,o)||this;return l.entityUrlPrefix="services",l.headerTitle="Create Service",l.isNew=!0,l.translate=a,l.entityApiService=c,l}return __extends(e,t),e})(d.a);p=__decorate([n.i(i.Component)({selector:"ds-service-create",template:n(1676)}),__metadata("design:paramtypes",[i.Injector,r.b,r.c,a.Location,o.c,s.ToastsManager,c.a,l.a])],p)},1655:function(t,e,n){"use strict";var i=n(0),r=n(27),a=n(11),s=n(138),o=(n.n(s),n(23)),c=n(296),l=n(1624),d=n(1628),u=n(35);n.n(u);n.d(e,"a",(function(){return p}));var p=(function(t){function e(e,n,i,r,a,s,o,c){var l=t.call(this,e,o)||this;return l.entityUrlPrefix="services",l.headerTitle="Edit Service",l.isNew=!1,l.entityApiService=c,l.translate=a,l}return __extends(e,t),e})(d.a);p=__decorate([n.i(i.Component)({selector:"ds-service-edit",template:n(1676)}),__metadata("design:paramtypes",[i.Injector,r.b,r.c,a.Location,o.c,s.ToastsManager,c.a,l.a])],p)},1656:function(t,e,n){"use strict";var i=n(0),r=n(296),a=n(1624),s=n(1629),o=n(35);n.n(o);n.d(e,"a",(function(){return c}));var c=(function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.entityUrlPrefix="services",r.pageTitle="general.menu.serviceDirectory",r.entityApiService=i,r}return __extends(e,t),e.prototype.setupQuery=function(){t.prototype.setupQuery.call(this),this.query.setFilter("order[weight]","asc")},e})(s.a);c=__decorate([n.i(i.Component)({selector:"ds-service-list",template:n(1709)}),__metadata("design:paramtypes",[i.Injector,r.a,a.a])],c)},1657:function(t,e,n){"use strict";(function(t){var i=n(0),r=n(37),a=n(783),s=n(1688),o=n(296),c=n(303),l=n(774),d=n(1626),u=n(1624),p=n(35),h=(n.n(p),n(1)),f=(n.n(h),n(139)),y=n(781),m=n.n(y);n.d(e,"a",(function(){return v}));var v=(function(e){function n(t,n,i,a,s,o){var c=e.call(this,t,a)||this;return c.renderer=n,c.clipboard=i,c.microserviceConfig=a,c.formioApiService=o,c.entityUrlPrefix="services",c.headerTitle="ds.microservices.entity.types.service",c.scenarios=[],c.document=t.get(r.DOCUMENT),c.entityApiService=s,c.formioApiService.setEntityApiService(s),c}return __extends(n,e),n.prototype.ngOnInit=function(){e.prototype.ngOnInit.call(this),this.backLink=new f.a(["/pages/services"],"general.menu.serviceDirectory")},n.prototype.ngOnDestroy=function(){this.scenariosTabs&&this.scenariosTabs.destroy(),this.formioModal&&this.formioModal.close(),e.prototype.ngOnDestroy.call(this)},n.prototype.prepareEntity=function(){var t=this;return e.prototype.prepareEntity.call(this).flatMap((function(e){return 0===t.scenarios.length&&t.loadScenarios(),h.Observable.of({entity:e.entity,entityParent:e.entityParent})}))},n.prototype.updateTranslations=function(t){e.prototype.updateTranslations.call(this,t),this.entity&&this.loadScenarios()},n.prototype.loadScenarios=function(){var t=this;this.loadingScenarios=!0;var e={"service.uuid":this.entity.uuid,"order[weight]":"asc"};this.route.params.subscribe((function(n){var i=n.scenarioUuid;t.entityApiService.resource("scenarios").getList(e).subscribe((function(e){t.loadingScenarios=!0,t.scenarios=[],e.forEach((function(e){t.scenarios.push(e)}))}),(function(t){console.log("Unable to fetch scenarios",t)}),(function(){if(t.loadingScenarios=!1,t.scenarios.length>0){var e=m()(t.scenarios,{uuid:i});t.createTabs(e),t.commitScenarioBreadcrumb(e)}}))})).unsubscribe()},n.prototype.commitScenarioBreadcrumb=function(t){if(t>=0&&this.scenarios[t]){var e=this.buildBreadcrumb();e.title=this.scenarios[t].title,this.commitBreadcrumb(e,{forceIdenticalLink:!0})}},n.prototype.createTabs=function(e){var n=this;null==this.defaultTabIndex&&(this.defaultTabIndex=e>=0?e:0),setTimeout((function(){var e={},i={onTabChange:n.onTabChange.bind(n)};e.default_tab=n.defaultTabIndex,n.scenariosTabs=new s.a(t("#scenarios-tabs"),e,i)}),0)},n.prototype.onTabChange=function(t){if(t!=this.defaultTabIndex&&t<this.scenarios.length){var e=this.scenarios[t].uuid;this.location.go("/pages/services/"+this.entity.uuid+"/show/scenarios/"+e),this.commitScenarioBreadcrumb(t)}this.defaultTabIndex=t},n.prototype.openTab=function(t){this.scenariosTabs.openTabByIndex(t)},n.prototype.getScenarioLinkUrl=function(t){return this.microserviceConfig.settings.entrypoint.url+"scenarios/"+t+"/url"},n.prototype.copyScenarioUrlToClipboard=function(t){var e=this.document.location.href,n=e.substr(0,e.indexOf("/show"))+"/show/scenarios/"+t;this.clipboard.copyFromContent(n,this.renderer),this.toastr.success(this.translate.instant("ds.messages.clipboardCopySucceeded"))},n.prototype.activateFormioForm=function(t){this.openModalIFrame(t)},n.prototype.openModalIFrame=function(t){this.selectedScenario=t;var e={size:"lg",windowClass:"formio-modal-frame"},n=[this.getTranslatedPropertyValue(this.entity,"title"),this.getTranslatedPropertyValue(this.selectedScenario,"title")];this.formioModal=this.modal.open(l.a,e),this.iFrameModalComponent=this.formioModal.componentInstance,this.iFrameModalComponent.setFormioController(this),this.iFrameModalComponent.setBreadcrumbs(n)},n.prototype.requestFormioForm=function(){return this.formioApiService.getForm("scenarios",this.selectedScenario.uuid)},n.prototype.submitFormioForm=function(t){var e=this;return this.formioApiService.submitFormUsingPost("scenarios",this.selectedScenario.uuid,t).flatMap((function(t){return e.formioModal.close(),e.toastr.success(e.translate.instant("ds.microservices.entity.scenario.submissionSuccess")),h.Observable.of(t)}))},n.prototype.handleFormioFormEvent=function(t,e){},n})(d.a);v=__decorate([n.i(i.Component)({selector:"ds-service-show",template:n(1710),styles:[n(1700)]}),__metadata("design:paramtypes",[i.Injector,i.Renderer,a.b,o.a,u.a,c.a])],v)}).call(e,n(9))},1658:function(t,e,n){"use strict";var i=n(0),r=n(296),a=n(1624),s=n(1629),o=n(35);n.n(o);n.d(e,"a",(function(){return c}));var c=(function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.injector=e,r.microserviceConfig=n,r.entityApiService=i,r.entityUrlPrefix="submissions",r.headerTitle="general.menu.submissions",r.headerSubtitle="",r.entityApiService=i,r}return __extends(e,t),e.prototype.ngOnInit=function(){return t.prototype.ngOnInit.call(this)},e.prototype.setupList=function(){t.prototype.setupList.call(this),this.columns=[{prop:"uuid",cellTemplate:this.textCellTpl,headerTemplate:this.headerTpl,filterable:!1,sortable:!1},{prop:"updatedAt",cellTemplate:this.textCellTpl,headerTemplate:this.headerTpl,sortable:!0,filterable:!1}]},e})(s.a);c=__decorate([n.i(i.Component)({selector:"ds-submission-list",template:n(1677)}),__metadata("design:paramtypes",[i.Injector,r.a,a.a])],c)},1659:function(t,e,n){"use strict";var i=n(0),r=n(1626),a=n(296),s=n(1624),o=n(35);n.n(o);n.d(e,"a",(function(){return c}));var c=(function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.injector=e,r.microserviceConfig=n,r.entityApiService=i,r.entityUrlPrefix="submissions",r.headerTitle="Submission Details",r.headerSubtitle=null,r.entityApiService=i,r}return __extends(e,t),e.prototype.ngOnInit=function(){return t.prototype.ngOnInit.call(this)},e})(r.a);c=__decorate([n.i(i.Component)({selector:"ds-submission-show",template:n(1711)}),__metadata("design:paramtypes",[i.Injector,a.a,s.a])],c)},1660:function(t,e,n){"use strict";var i=n(0),r=n(1630);n.d(e,"a",(function(){return a}));var a=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e})(r.a);a=__decorate([n.i(i.Component)({selector:"ds-service",template:"<router-outlet></router-outlet>"})],a)},1675:function(t,e){t.exports='<ds-entity-form *ngIf="entity"\n\t\t\t\t[entity]="entity"\n\t\t\t\t[backLink]="backLink"\n\t\t\t\t[headerTitle]="headerTitle"\n\t\t\t\t[headerSubtitle]="headerSubtitle"\n\t\t\t\t[isNew]="isNew"\n\t\t\t\t(onFormInit)="onFormInit($event)"\n\t\t\t\t(onFormChange)="onFormChange($event)"\n\t\t\t\t(onFormSubmit)="onFormSubmit($event)"\n\t\t\t\t(onFormCancel)="onFormCancel($event)"\n\t\t\t\t(onFormLanguageChange)="onFormLanguageChange($event)"\n>\n\t<div class="card-block">\n\t\t<div *ngIf="!isNew" class="row">\n\t\t\t<div class="col">\n\t\t\t\t<div class="form-group">\n\t\t\t\t\t<Label>UUID</Label>\n\t\t\t\t\t<div class="entity-uuid form-control" disabled>{{entity.uuid}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="row">\n\t\t\t<div class="col-sm-6">\n\t\t\t\t<div class="form-group">\n\t\t\t\t\t<label for="title">{{ \'ds.microservices.entity.property.title\' | translate }}</label>\n\t\t\t\t\t<input id="title" name="title" type="text" [(ngModel)]="entity.title[formLang]" class="form-control" placeholder="" required>\n\t\t\t\t\t<div *ngIf="formErrors.title" class="alert alert-danger">\n\t\t\t\t\t\t{{ formErrors.title }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="form-group">\n\t\t\t\t\t<label for="presentation">{{ \'ds.microservices.entity.property.presentation\' | translate }}</label>\n\t\t\t\t\t<input id="presentation" name="presentation" type="text" [(ngModel)]="entity.presentation[formLang]" class="form-control" placeholder="" required>\n\t\t\t\t\t<div *ngIf="formErrors.presentation" class="alert alert-danger">\n\t\t\t\t\t\t{{ formErrors.presentation }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="form-group">\n\t\t\t\t\t<label for="process-definition-key">{{ \'ds.microservices.entity.property.processDefinitionKey\' | translate }}</label>\n\t\t\t\t\t<input id="process-definition-key" name="process_definition_key" type="text" [(ngModel)]="entity.data.process_definition_key" class="form-control" required>\n\t\t\t\t\t<div *ngIf="formErrors.data" class="alert alert-danger">\n\t\t\t\t\t\t{{ formErrors.data }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="col-sm-6">\n\t\t\t\t<div class="form-group">\n\t\t\t\t\t<label for="description">{{ \'ds.microservices.entity.property.description\' | translate }}</label>\n\t\t\t\t\t<textarea id="description" name="description" type="text" [(ngModel)]="entity.description[formLang]" class="form-control" placeholder="" required></textarea>\n\t\t\t\t\t<div *ngIf="formErrors.description" class="alert alert-danger">\n\t\t\t\t\t\t{{ formErrors.description }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!--<div class="form-group">--\x3e\n\t\t\t\t\t\x3c!--<label for="data">{{ \'ds.microservices.entity.property.data\' | translate }}</label>--\x3e\n\t\t\t\t\t\x3c!--<textarea id="data" name="data" type="text" [(ngModel)]="entity.data" class="form-control" placeholder="" required></textarea>--\x3e\n\t\t\t\t\t\x3c!--<div *ngIf="formErrors.data" class="alert alert-danger">--\x3e\n\t\t\t\t\t\t\x3c!--{{ formErrors.data }}--\x3e\n\t\t\t\t\t\x3c!--</div>--\x3e\n\t\t\t\t\x3c!--</div>--\x3e\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</ds-entity-form>\n'},1676:function(t,e){t.exports='<ds-entity-form *ngIf="entity"\n\t\t\t\t[entity]="entity"\n\t\t\t\t[backLink]="backLink"\n\t\t\t\t[headerTitle]="headerTitle"\n\t\t\t\t[headerSubtitle]="headerSubtitle"\n\t\t\t\t[isNew]="isNew"\n\t\t\t\t(onFormInit)="onFormInit($event)"\n\t\t\t\t(onFormChange)="onFormChange($event)"\n\t\t\t\t(onFormSubmit)="onFormSubmit($event)"\n\t\t\t\t(onFormCancel)="onFormCancel($event)"\n\t\t\t\t(onFormLanguageChange)="onFormLanguageChange($event)"\n>\n\t<div class="card-block">\n\t\t<div *ngIf="!isNew" class="row">\n\t\t\t<div class="col">\n\t\t\t\t<div class="form-group">\n\t\t\t\t\t<Label>UUID</Label>\n\t\t\t\t\t<div class="entity-uuid form-control" disabled>{{entity.uuid}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="row">\n\t\t\t<div class="col-sm-6">\n\t\t\t\t<div class="form-group">\n\t\t\t\t\t<label for="title">{{ \'ds.microservices.entity.property.title\' | translate }}</label>\n\t\t\t\t\t<input id="title" name="title" type="text" [(ngModel)]="entity.title[formLang]" class="form-control" placeholder="" required>\n\t\t\t\t\t<div *ngIf="formErrors.title" class="alert alert-danger">\n\t\t\t\t\t\t{{ formErrors.title }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="form-group">\n\t\t\t\t\t<label for="presentation">{{ \'ds.microservices.entity.property.presentation\' | translate }}</label>\n\t\t\t\t\t<input id="presentation" name="presentation" type="text" [(ngModel)]="entity.presentation[formLang]" class="form-control" placeholder="" required>\n\t\t\t\t\t<div *ngIf="formErrors.presentation" class="alert alert-danger">\n\t\t\t\t\t\t{{ formErrors.presentation }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\x3c!--<div class="form-group">--\x3e\n\t\t\t\t\t\x3c!--<label for="form">{{ \'ds.microservices.entity.property.form\' | translate }}</label>--\x3e\n\t\t\t\t\t\x3c!--<input id="form" name="form" type="text" [(ngModel)]="entity.form" class="form-control" placeholder="" required>--\x3e\n\t\t\t\t\t\x3c!--<div *ngIf="formErrors.form" class="alert alert-danger">--\x3e\n\t\t\t\t\t\t\x3c!--{{ formErrors.form }}--\x3e\n\t\t\t\t\t\x3c!--</div>--\x3e\n\t\t\t\t\x3c!--</div>--\x3e\n\t\t\t</div>\n\t\t\t<div class="col-sm-6">\n\t\t\t\t<div class="form-group">\n\t\t\t\t\t<label for="description">{{ \'ds.microservices.entity.property.description\' | translate }}</label>\n\t\t\t\t\t<textarea id="description" name="description" type="text" [(ngModel)]="entity.description[formLang]" class="form-control" placeholder="" required></textarea>\n\t\t\t\t\t<div *ngIf="formErrors.description" class="alert alert-danger">\n\t\t\t\t\t\t{{ formErrors.description }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</ds-entity-form>\n'},1677:function(t,e){t.exports='<ds-entity-list [headerTitle]="headerTitle"\n\t\t\t\t[headerSubtitle]="headerSubtitle"\n\t\t\t\t[actions]="actions"\n\t\t\t\t(onRefreshList)="refreshList($event)">\n\n\t<ngx-datatable #datatable\n\t\t\t\t   [loadingIndicator]="loading"\n\t\t\t\t   [sorts]="sorts"\n\t\t\t\t   [rows]="rows"\n\t\t\t\t   [columns]="columns"\n\t\t\t\t   [count]="pager.totalItems"\n\t\t\t\t   [offset]="pager.pageNumber"\n\t\t\t\t   [limit]="pager.size"\n\t\t\t\t   (page)="setPage($event)"\n\t\t\t\t   (sort)="onSort($event)"\n\t\t\t\t   class="material">\n\t</ngx-datatable>\n</ds-entity-list>\n\n<ng-template #headerTpl let-column="column" let-sorts="sorts" let-sortDir="sortDir" let-sort="sortFn">\n\t<ds-datatable-header sortType="single"\n\t\t\t\t\t\t sortAscendingIcon="datatable-icon-up"\n\t\t\t\t\t\t sortDescendingIcon="datatable-icon-down"\n\t\t\t\t\t\t [column]="column"\n\t\t\t\t\t\t [sort]="sort"\n\t\t\t\t\t\t [sortDir]="sortDir"\n\t\t\t\t\t\t (onFilterValueChange)="onFilterValueChange($event)"\n\t>\n\t</ds-datatable-header>\n</ng-template>\n\n<ng-template #textCellTpl let-column="column" let-row="row" let-value="value">\n\t<ds-datatable-cell [column]="column" [row]="row" [value]="value"></ds-datatable-cell>\n</ng-template>\n\n\x3c!--<ng-container *ngTemplateOutlet="actionsTpl; context: {actions: actions}"></ng-container>--\x3e\n<ng-template #actionsTpl let-column="column" let-row="row">\n\t<ds-datatable-cell-actions [row]="row"></ds-datatable-cell-actions>\n</ng-template>\n'},1683:function(t,e,n){"use strict";var i=n(27),r=n(302),a=n(1660),s=n(1656),o=n(1657),c=n(1654),l=n(1655),d=n(1652),u=n(1653),p=n(1650),h=n(1651),f=n(1649),y=n(1658),m=n(1659);n.d(e,"a",(function(){return b}));var v=[{path:"",component:a.a,canActivate:[r.a],children:[{path:"",redirectTo:"/pages/services/list",pathMatch:"full"},{path:"list",component:s.a},{path:"create",component:c.a},{path:":id/show",component:o.a},{path:":id/show/scenarios/:scenarioUuid",component:o.a},{path:":id/edit",component:l.a},{path:":serviceUuid/scenarios/list",component:d.a},{path:":serviceUuid/scenarios/create",component:p.a},{path:":serviceUuid/scenarios/:id/show",component:u.a},{path:":serviceUuid/scenarios/:id/edit",component:h.a},{path:":serviceUuid/scenarios/:id/activate",component:f.a},{path:"submissions/list",component:y.a},{path:"submissions/:id/show",component:m.a}]}],b=i.a.forChild(v)},1688:function(t,e,n){"use strict";(function(t){var i=n(782),r=n.n(i),a=n(305),s=n.n(a),o=(function(){function e(e,n,i){this.$container=e,this.options=n,this.callbacks=i,this.templates={tplTabNav:r()('<ul class="inline-list tabs-navigation" role="tablist"><% forEach(tabs, function(tab) { %>  <li role="presentation" class="tab-menu-item">    <a href="#<%=tab.tabId%>" id="TabController-<%=tab.tabId%>" class="txt-btn tabs-navigation__button" role="tab" aria-selected="false" aria-controls="<%=tab.tabId%>" tabindex=-1 aria-expanded="false">      <%=tab.tabTitle%>    </a>  </li><% }); %></ul>',{imports:{forEach:s.a}})};var a={default_tab:0,tab_class_panel:".tabs-container__panel",tab_class_title:".tabs-container__title",tab_nav_id:"TabNav"};this.$container=e.addClass("tabs-init"),this.options=t.extend({},a,n),this.currentTab=null,this.init()}return e.prototype.fetchTabData=function(){this.tabData=[];var e,n,i,r=0,a=this.$tab_panels,s=a.length;for(r;r<s;r++)e=t(a[r]),n=e.prev(this.options.tab_class_title),i={tabId:a[r].id,tabTitle:n.text()},this.tabData.push(i),e.attr({role:"tabpanel","aria-hidden":"true"}),n.attr({tabindex:"-1",role:"tab","aria-controls":i.tabId,"aria-selected":"false","aria-expanded":"false"})},e.prototype.createTabNav=function(){this.tabNav=!0,this.$container.find(".inline-list").remove(),this.$tabNav=t(this.templates.tplTabNav({tabs:this.tabData})).prependTo(this.$container),this.$tabNavItems=this.$tabNav.find("a"),this.$container.addClass("tabs-nav-init")},e.prototype.bindNavEvents=function(){var e=this;this.$tabNav.on("click","a",(function(n){n.preventDefault();var i=(t(n.currentTarget),t(this.getAttribute("href")));e.isCurrentTab(i)||(e.closeTab(),e.openTab(i))})),this.$tabNav.on("keydown","a",(function(n){var i=e.handleKeyPress(n);if(null!==i){e.closeTab();var r=e.tabData[i].tabId;e.openTab(t(document.getElementById(r))),e.currentTab.$navItem.focus()}}))},e.prototype.unbindNavEvents=function(){this.$tabNav&&(this.$tabNav.off("keydown"),this.$tabNav.off("click"))},e.prototype.isCurrentTab=function(t){return this.currentTab.$tab_panel.get(0)==t.get(0)},e.prototype.handleKeyPress=function(t){var e,n=this.currentTab.position;switch(e={DOWN:40,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SPACE:32,TAB:9,UP:38},t.keyCode){case e.LEFT:case e.UP:n--,n<0&&(n=this.tabData.length-1);break;case e.END:n=this.tabData.length-1;break;case e.HOME:n=0;break;case e.SPACE:case e.ENTER:n=this.handleEnter(n);break;case e.RIGHT:case e.DOWN:n++,n>=this.tabData.length&&(n=0);break;default:n=null}return n},e.prototype.handleEnter=function(t){var e=document.getElementById(document.activeElement.getAttribute("aria-controls"));return e!==this.currentTab.$tab_panel.get(0)&&(t=this.$tab_panels.index(e)),t},e.prototype.openTab=function(t){var e=this.options;this.currentTab={$tab_panel:t.attr({"aria-hidden":"false",tabindex:"0"}),$title:t.prev(e.tab_class_title).attr({"aria-selected":!0,"aria-expanded":!0,tabindex:"0"}),position:this.$tab_panels.index(t)},this.tabNav&&this.updateTabNav(),this.callbacks.onTabChange&&this.callbacks.onTabChange.call(null,this.currentTab.position)},e.prototype.openTabByIndex=function(t){var e=this.$tab_panels.eq(t);this.isCurrentTab(e)||(this.closeTab(),this.openTab(e))},e.prototype.closeTab=function(){var t=this.currentTab;t.$tab_panel.attr({"aria-hidden":"true"}).removeAttr("tabindex"),t.$title.attr({tabindex:"-1","aria-selected":"false","aria-expanded":"false"}),this.tabNav&&t.$navItem.attr({tabindex:"-1","aria-selected":"false","aria-expanded":"false"}),this.currentTab=null},e.prototype.updateTabNav=function(){var t=this.currentTab;t.$navItem=this.$tabNavItems.eq(t.position),t.$navItem.attr({tabindex:"0","aria-selected":"true","aria-expanded":"true"})},e.prototype.bindAccordionEvents=function(){var e=this;this.$accordion.on("keydown",this.options.tab_class_title,(function(t){var n=e.handleKeyPress(t);null!==n&&e.handleAccordion(e.$tab_panels.eq(n))})).find(".tabs-container__title").on("click",(function(n){n.preventDefault(),e.handleAccordion(t(n.currentTarget).next(e.options.tab_class_panel))}))},e.prototype.unbindAccordionEvents=function(){this.$accordion&&this.$accordion.off("keydown").find(".tabs-container__title").off("click")},e.prototype.handleAccordion=function(t){this.isCurrentTab(t)||this.openAccordion(t)},e.prototype.openAccordion=function(e){this.closeTab(),this.openTab(e),t("html, body").animate({scrollTop:e.offset().top-25},200)},e.prototype.init=function(){var t;this.$tab_panels=this.$container.find(this.options.tab_class_panel),this.fetchTabData(),this.$accordion=this.$container.find(".accordion-wrapper").attr("role","tablist"),this.bindAccordionEvents(),this.$tab_panels.length>0&&(this.createTabNav(),this.bindNavEvents()),t=this.$tab_panels.eq(this.options.default_tab),this.$tab_panels.filter(".tabs-container__default").length&&(t=this.$tab_panels.filter(".tabs-container__default")),this.openTab(t)},e.prototype.destroy=function(){var t=this;this.unbindNavEvents(),this.unbindAccordionEvents(),this.callbacks&&s()(this.callbacks,(function(e,n){t.callbacks[n]=void 0}))},e})();e.a=o}).call(e,n(9))},1699:function(t,e){t.exports=".ds-scenario-activate .formio .alert.alert-success{display:none}\n"},1700:function(t,e){t.exports=""},1707:function(t,e){t.exports='<h1 class="al-title">{{ pageTitle | translate }}</h1>\n\n<back-link *ngIf="backLink" [link]="backLink"></back-link>\n\n<div class="card">\n\t\x3c!--<div class="card-header">--\x3e\n\t\t\x3c!--<h3 class="card-title" translate>general.menu.scenario_activation</h3>--\x3e\n\t\x3c!--</div>--\x3e\n\n\t<div class="card-block">\n\t\t<div class="switcher-container clearfix">\n\t\t\t<ds-language-switcher-dropdown\n\t\t\t\t\t*ngIf="isFormRendered && !status"\n\t\t\t\t\tclass="float-right"\n\t\t\t\t\t(onLanguageChange)="switchFormLanguage($event)">\n\t\t\t</ds-language-switcher-dropdown>\n\t\t</div>\n\n\t\t<md-progress-spinner [hidden]="isFormRendered || status" mode="indeterminate"></md-progress-spinner>\n\n\t\t<formio\n\t\t\t\tclass="formio"\n\t\t\t\t[form]="formioFormSchema"\n\t\t\t\t[options]="formioOptions"\n\t\t\t\t[language]="formioLanguageEmitter"\n\t\t\t\t[hidden]="status"\n\t\t\t\t(submit)="onFormioFormSubmit($event)"\n\t\t\t\t(render)="onFormioFormRender($event)"\n\t\t\t\t(invalid)="onFormioFormInvalid($event)"\n\t\t\t\t(error)="onFormioFormError($event)">\n\t\t</formio>\n\n\t\t<div *ngIf="status"\n\t\t\t class="status"\n\t\t\t [ngClass]="status"\n\t\t\t [innerHtml]="statusMessage | translate">\n\t\t</div>\n\t</div>\n</div>\n\n<div>\n\t<button class="btn btn-secondary" [routerLink]="[\'../../../show\']">\x3c!-- back to the Service and Scenarios list --\x3e\n\t\t{{\'ds.microservices.entity.action.back\' | translate}}\n\t</button>\n</div>\n\n\x3c!--<ng-template #modalSubmissionResult>--\x3e\n\t\x3c!--<div class="modal-header">--\x3e\n\t\t\x3c!--<h4 class="modal-title">Response</h4>--\x3e\n\t\x3c!--</div>--\x3e\n\t\x3c!--<div class="modal-body">--\x3e\n\t\t\x3c!--<pre>{{ submissionResult }}</pre>--\x3e\n\t\x3c!--</div>--\x3e\n\x3c!--</ng-template>--\x3e'},1708:function(t,e){t.exports='<ds-entity-show *ngIf="entity"\n\t\t\t\t[entity]="entity"\n\t\t\t\t[backLink]="backLink"\n\t\t\t\t[headerTitle]="headerTitle"\n\t\t\t\t[headerSubtitle]="headerSubtitle"\n\t\t\t\t[actions]="actions"\n\t\t\t\t(onDelete)="onDelete($event)">\n\n\t\x3c!-- begin: ng-content[select="button.entity-action"] --\x3e\n\t<button [routerLink]="[\'../activate\']" type="button" class="entity-action btn btn-secondary btn-with-icon"><i class="ion-power">{{ \'ds.microservices.entity.action.activate\' | translate }}</i></button>\n\t\x3c!-- end: ng-content[select="button.entity-action"] --\x3e\n\n\t\x3c!-- begin: ng-content[select=".entity-body"] --\x3e\n\t<div class="card-block entity-body entity-data">\n\t\t<div class="row">\n\t\t\t<div class="col-sm-4 col-sm-offset-3">\n\t\t\t\t<dl>\n\t\t\t\t\t<dt>{{ \'ds.microservices.entity.property.title\' | translate }}</dt>\n\t\t\t\t\t<dd>{{entity.title | entityTranslate}}</dd>\n\t\t\t\t</dl>\n\t\t\t\t<dl>\n\t\t\t\t\t<dt>{{ \'ds.microservices.entity.property.presentation\' | translate }}</dt>\n\t\t\t\t\t<dd>{{entity.presentation | entityTranslate}}</dd>\n\t\t\t\t</dl>\n\t\t\t\t<dl>\n\t\t\t\t\t<dt>{{ \'ds.microservices.entity.property.processDefinitionKey\' | translate }}</dt>\n\t\t\t\t\t<dd>{{entity.data.process_definition_key}}</dd>\n\t\t\t\t</dl>\n\t\t\t</div>\n\t\t\t<div class="col-sm-8 col-sm-offset-3">\n\t\t\t\t<dl>\n\t\t\t\t\t<dt>UUID</dt>\n\t\t\t\t\t<dd>{{entity.uuid}}</dd>\n\t\t\t\t</dl>\n\t\t\t\t<dl>\n\t\t\t\t\t<dt>{{ \'ds.microservices.entity.property.description\' | translate }}</dt>\n\t\t\t\t\t<dd class="ws-pre-line">{{entity.description | entityTranslate}}</dd>\n\t\t\t\t</dl>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t\x3c!-- end: ng-content[select=".entity-body"] --\x3e\n\n</ds-entity-show>\n'},1709:function(t,e){t.exports='<h1 class="al-title">{{ pageTitle | translate }}</h1>\n\n<div *ngIf="!loading && (rows.length === 0)" class="list-empty">{{ \'ds.messages.emptyList\' | translate }}</div>\n\n<div id="infinite-scroll-container" class="card container-fluid mt-5">\n\t<div class="row">\n\t\t<div class="col p-0">\n\t\t\t<div infiniteScroll (scrolled)="onScrollDown($event)" class="list-group simple-list infinite-scroll-list">\n\t\t\t\t<a *ngFor="let row of rows" [routerLink]="[\'..\', row.uuid, \'show\']"\n\t\t\t\t   href="#"\n\t\t\t\t   class="list-group-item justify-content-between has-left-icon m-0 mr-xs-4 ml-xs-4">\n\n\t\t\t\t\t<span class="left-icon pull-left fa"\n\t\t\t\t\t\t  [ngClass]="row.data && row.data[lang] && row.data[lang].icon ? (\'fa-\' + row.data[lang].icon) : \'fa-dot-circle-o\'">\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<h2 class="font-weight-normal">{{row.title[lang]}}</h2>\n\t\t\t\t\t<p class="lead ws-pre-line mt-3 mb-0 pr-5">{{row.description[lang]}}</p>\n\t\t\t\t\t<span class="right-icon pull-right"></span>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<a [hidden]="loading || pager.pageNumber >= pager.totalPages"\n   class="btn btn-default"\n   (click)="fetchNextPage()">\n\t<i class="fa fa-chevron-circle-down"></i>\n\t<span>{{ \'general.more\' | translate }}</span>\n</a>\n\n<md-progress-spinner [hidden]="!loading" mode="indeterminate"></md-progress-spinner>\n'},1710:function(t,e){t.exports='<h1 class="al-title">{{ pageTitle | translate }}</h1>\n\n<back-link *ngIf="backLink" [link]="backLink"></back-link>\n\n<md-progress-spinner [hidden]="entity" mode="indeterminate"></md-progress-spinner>\n\n<div *ngIf="entity" class="mt-4 mb-5">\n\t<p class="lead ws-pre-line">{{ entity.presentation[lang] }}</p>\n</div>\n\n<div *ngIf="entity && scenarios.length > 0" class="animated fadeIn">\n\t\x3c!--<div class="card-block entity-body entity-data">--\x3e\n\t\t<div id="scenarios-tabs" class="tabs-container">\n\t\t\t<div class="accordion-wrapper">\n\t\t\t\t<ng-container *ngFor="let scenario of scenarios">\n\t\t\t\t\t<h2 id="tab-panel-title-{{scenario.uuid}}" class="tabs-container__title">\n\t\t\t\t\t\t<i class="icon icon-closed fa fa-caret-right float-right"></i>\n\t\t\t\t\t\t<i class="icon icon-open fa fa-caret-down float-right"></i>\n\t\t\t\t\t\t{{scenario.title | entityTranslate}}\n\t\t\t\t\t</h2>\n\t\t\t\t\t<div id="tab-{{scenario.uuid}}" class="card p-0 tabs-container__panel animated fadeIn">\n\t\t\t\t\t\t<div class="card-block">\n\t\t\t\t\t\t\t<p class="lead ws-pre-line mt-2">{{ scenario.presentation[lang] }}</p>\n\t\t\t\t\t\t\t<div class="actions btn-group pt-4">\n\t\t\t\t\t\t\t\t<a class="btn btn-default"\n\t\t\t\t\t\t\t\t   (click)="copyScenarioUrlToClipboard(scenario.uuid)"\n\t\t\t\t\t\t\t\t   title="{{ \'ds.messages.copyUrlToClipboard\' | translate }}">\n\t\t\t\t\t\t\t\t\t<i class="fa fa-link"></i>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div *ngIf="scenario.data && scenario.data[lang].button_text" class="actions btn-group pt-4">\n\t\t\t\t\t\t\t\t\x3c!--<button class="btn btn-primary" [routerLink]="[\'..\', \'scenarios\', scenario.uuid, \'activate\']">--\x3e\n\t\t\t\t\t\t\t\t\t\x3c!--{{\'ds.microservices.entity.action.activate\' | translate}}--\x3e\n\t\t\t\t\t\t\t\t\x3c!--</button>--\x3e\n\t\t\t\t\t\t\t\t<a *ngIf="scenario.type === \'bpm\'"\n\t\t\t\t\t\t\t\t   class="btn btn-primary"\n\t\t\t\t\t\t\t\t   href="javascript:;"\n\t\t\t\t\t\t\t\t   (click)="activateFormioForm(scenario)"\n\t\t\t\t\t\t\t\t   title="{{ scenario.data[lang].button_text | entityTranslate }}">\n\t\t\t\t\t\t\t\t\t{{ scenario.data[lang].button_text | translate }}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t<a *ngIf="[\'url\', \'api\'].indexOf(scenario.type) >= 0"\n\t\t\t\t\t\t\t\t   class="btn btn-primary"\n\t\t\t\t\t\t\t\t   [href]="getScenarioLinkUrl(scenario.uuid)" target="_blank"\n\t\t\t\t\t\t\t\t   title="{{ scenario.data[lang].button_text | entityTranslate }}">\n\t\t\t\t\t\t\t\t\t{{ scenario.data[lang].button_text | translate }}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</ng-container>\n\t\t\t</div>\n\t\t</div>\n\t\x3c!--</div>--\x3e\n</div>\n\n<md-progress-spinner [hidden]="!loadingScenarios" mode="indeterminate"></md-progress-spinner>\n'},1711:function(t,e){t.exports='<ds-entity-show *ngIf="entity"\n\t\t\t\t[entity]="entity"\n\t\t\t\t[backLink]="backLink"\n\t\t\t\t[headerTitle]="headerTitle"\n\t\t\t\t[headerSubtitle]="headerSubtitle"\n\t\t\t\t[actions]="actions"\n\t\t\t\t(onDelete)="onDelete($event)">\n\n\t\x3c!-- begin: ng-content[select="button.entity-action"] --\x3e\n\t\x3c!-- end: ng-content[select="button.entity-action"] --\x3e\n\n\t\x3c!-- begin: ng-content[select=".entity-body"] --\x3e\n\t<div class="card-block entity-body entity-data">\n\t\t<div class="row">\n\t\t\t<div class="col-sm-12 col-sm-offset-3">\n\t\t\t\t<dl>\n\t\t\t\t\t<dt>UUID</dt>\n\t\t\t\t\t<dd>{{entity.uuid}}</dd>\n\t\t\t\t</dl>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="row">\n\t\t\t<div class="col-sm-12 col-sm-offset-3">\n\t\t\t\t<dl>\n\t\t\t\t\t<dt>{{ \'ds.microservices.entity.property.data\' | translate }}</dt>\n\t\t\t\t\t<dd>\n\t\t\t\t\t\t<pre>{{entity.data | json}}</pre>\n\t\t\t\t\t</dd>\n\t\t\t\t</dl>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t\x3c!-- end: ng-content[select=".entity-body"] --\x3e\n\n</ds-entity-show>\n'}});